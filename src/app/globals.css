@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-inter: 'Inter', ui-sans-serif, system-ui, sans-serif;
}

html {
  scroll-behavior: smooth;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
}

/* Custom scrollbar */
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(99, 102, 241, 0.25); border-radius: 999px; }
::-webkit-scrollbar-thumb:hover { background: rgba(99, 102, 241, 0.5); }

/* ---- Callouts ---- */
.callout {
  @apply my-5 rounded-xl px-5 py-4 text-sm leading-relaxed border-l-4;
}
.callout-note {
  @apply bg-indigo-50 border-indigo-400 text-indigo-900 dark:bg-indigo-950/40 dark:border-indigo-500 dark:text-indigo-200;
}
.callout-tip {
  @apply bg-emerald-50 border-emerald-400 text-emerald-900 dark:bg-emerald-950/40 dark:border-emerald-500 dark:text-emerald-200;
}
.callout-important {
  @apply bg-violet-50 border-violet-400 text-violet-900 dark:bg-violet-950/40 dark:border-violet-500 dark:text-violet-200;
}
.callout-warning {
  @apply bg-amber-50 border-amber-400 text-amber-900 dark:bg-amber-950/40 dark:border-amber-500 dark:text-amber-200;
}

/* ---- Tables ---- */
.table-wrapper {
  @apply w-full overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-slate-700;
}
.table-wrapper table {
  @apply w-full text-sm border-collapse;
}
.table-wrapper table thead th {
  @apply bg-slate-50 dark:bg-slate-800/80 text-slate-700 dark:text-slate-300
         font-semibold px-4 py-3 text-left whitespace-nowrap
         border-b border-slate-200 dark:border-slate-700;
}
.table-wrapper table tbody td {
  @apply px-4 py-3 border-b border-slate-100 dark:border-slate-800
         text-slate-700 dark:text-slate-300 align-top;
}
.table-wrapper table tbody tr:last-child td { @apply border-b-0; }
.table-wrapper table tbody tr:nth-child(even) td {
  @apply bg-slate-50/60 dark:bg-slate-800/20;
}

/* ---- Prose overrides ---- */
.doc-content h1 { @apply text-3xl font-bold mt-10 mb-4 text-slate-900 dark:text-white tracking-tight; }
.doc-content h2 {
  @apply text-2xl font-bold mt-10 mb-4 pb-3
         border-b border-slate-200 dark:border-slate-700
         text-slate-800 dark:text-slate-100 tracking-tight;
}
.doc-content h3 { @apply text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-100; }
.doc-content h4 { @apply text-base font-semibold mt-6 mb-2 text-slate-700 dark:text-slate-200; }
.doc-content p  { @apply text-slate-700 dark:text-slate-300 leading-relaxed my-3; }

.doc-content ul { @apply my-4 pl-6 space-y-1.5; }
.doc-content ul li { @apply text-slate-700 dark:text-slate-300 list-disc; }
.doc-content ol { @apply my-4 pl-6 space-y-1.5; }
.doc-content ol li { @apply text-slate-700 dark:text-slate-300 list-decimal; }

.doc-content a { @apply text-indigo-600 dark:text-indigo-400 underline underline-offset-2 hover:text-indigo-800 dark:hover:text-indigo-300; }

.doc-content blockquote {
  @apply my-5 pl-5 border-l-4 border-indigo-400 italic
         text-slate-600 dark:text-slate-400 bg-indigo-50/50 dark:bg-indigo-950/20
         rounded-r-lg py-3 pr-4;
}

.doc-content pre {
  @apply bg-slate-900 dark:bg-slate-950 text-slate-100 rounded-xl p-5 overflow-x-auto
         text-sm font-mono my-5 border border-slate-700 leading-relaxed;
}

.doc-content code:not(pre code) {
  @apply bg-indigo-50 dark:bg-indigo-950/50 text-indigo-700 dark:text-indigo-300
         rounded px-1.5 py-0.5 text-sm font-mono;
}

.doc-content strong { @apply font-semibold text-slate-900 dark:text-white; }
.doc-content em { @apply italic text-slate-600 dark:text-slate-400; }

/* ── Scroll offset for sticky header ─────────────────────────────────── */
.doc-content [id] { scroll-margin-top: 80px; }

/* ── Anchor links on headings ─────────────────────────────────────────── */
.doc-content h1,
.doc-content h2,
.doc-content h3,
.doc-content h4 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.anchor-link {
  opacity: 0;
  color: #94a3b8;
  text-decoration: none !important;
  flex-shrink: 0;
  transition: opacity 0.15s, color 0.15s;
  line-height: 1;
}
.doc-content h1:hover .anchor-link,
.doc-content h2:hover .anchor-link,
.doc-content h3:hover .anchor-link,
.doc-content h4:hover .anchor-link {
  opacity: 1;
}
.anchor-link:hover { color: #6366f1; }

/* ── Copy button on code blocks ───────────────────────────────────────── */
.copy-btn {
  position: absolute;
  top: 0.6rem;
  right: 0.6rem;
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.25rem 0.6rem;
  font-size: 11px;
  font-weight: 500;
  border-radius: 6px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: rgba(30, 41, 59, 0.85);
  color: #94a3b8;
  cursor: pointer;
  transition: all 0.15s;
  backdrop-filter: blur(4px);
  line-height: 1;
}
.copy-btn:hover { color: #e2e8f0; border-color: rgba(148, 163, 184, 0.5); }
.copy-btn.copied { color: #34d399; border-color: rgba(52, 211, 153, 0.4); }

/* ── Mermaid diagrams ─────────────────────────────────────────────────── */
.mermaid-wrapper {
  @apply my-6 p-4 rounded-xl border border-slate-200 dark:border-slate-700
         bg-white dark:bg-slate-900 overflow-x-auto flex justify-center;
}
.mermaid-wrapper svg {
  max-width: 100%;
  height: auto;
}
